{"version":3,"file":"resolve-market.js","sourceRoot":"","sources":["../../src/resolve-market.ts"],"names":[],"mappings":"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"}